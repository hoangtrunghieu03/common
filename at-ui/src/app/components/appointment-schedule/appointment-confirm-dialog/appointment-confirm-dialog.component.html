
<div class="modal-header">
    <h4 class="modal-title">Chờ xác nhận</h4>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body validateSearch">
  <ng-container *ngTemplateOutlet="schedule"></ng-container>
</div>
<div class="modal-footer d-flex justify-content-between">
        <button type="button" class="btn" (click)="onLoadMedicalScheduleStatusWait()">Làm mới</button>
        <button type="button" class="btn" (click)="activeModal.close()">Quay lại</button>
</div>
<ng-template #schedule>
    <div class="custom-datatable">
        <div id="batchDelete">
            <div class="table-responsive">
                <ngx-datatable class="bootstrap" [rows]="scheduleListWait" [columns]="columnDef" [columnMode]="'force'"
                    [headerHeight]="'auto'" [footerHeight]="scheduleListWait && scheduleListWait.length > 0 ? 50 : 0" [rowHeight]="'auto'"
                    [limit]="limit" [scrollbarH]="true" [messages]="{emptyMessage: 'Không có dữ liệu'}" #tables>
                    <ngx-datatable-column *ngFor="let col of columnDef" [prop]="col.prop">
                        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                            <div [style]="col.styleHeader">
                                <span class="mobile-hidden">{{col.name}}</span>
                            </div>
                        </ng-template>
                        <ng-template let-value="value" ngx-datatable-cell-template let-row='row'>
                            <div [style]="col.styleBody" (click)="onSelectRow(row, col.prop)" *ngIf="col.prop !== 'action'; else action">
                                <span class="mobile-hidden" [ngClass]="{'text-highlight': col.router}">
                                    {{
                                        col.colType == "money" ? ( value | currency:'VND':'symbol':null:'vi-VN')
                                        : (col.colType == 'tel' && value) ? formatPhoneNumber(value)
                                        : value | replaceNull
                                    }}
                                </span>
                            </div>
                            <ng-template #action>
                                <div [style]="col.styleBody" class="d-flex">
                                  <button class="remove btn btn-delete m-r-12" (click)="handleCloseSchedule(row)">Hủy</button>
                                  <button class="btn btn-second"  (click)="handleConfirmSchedule(row)" >
                                    Xem
                                  </button>
                                </div>
                            </ng-template>
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-footer>
                        <ng-template ngx-datatable-footer-template let-rowCount="rowCount" let-pageSize="pageSize"
                            let-selectedCount="selectedCount" let-curPage="curPage" let-offset="offset">
                            <span>Tổng<span class="font-weight-bold">&nbsp;{{ scheduleListWait?.length }}</span></span>
                            <datatable-pager [pagerLeftArrowIcon]="'datatable-icon-left'"
                                [pagerRightArrowIcon]="'datatable-icon-right'"
                                [pagerPreviousIcon]="'datatable-icon-prev'" [pagerNextIcon]="'datatable-icon-skip'"
                                [page]="curPage" [size]="pageSize" [count]="rowCount"
                                [hidden]="!((rowCount / pageSize) > 1)" (change)="tables.onFooterPage($event)">
                            </datatable-pager>
                        </ng-template>
                    </ngx-datatable-footer>
                </ngx-datatable>
            </div>
        </div>
    </div>
</ng-template>
